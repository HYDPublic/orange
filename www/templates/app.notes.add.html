<ion-view view-title="{{ notes_add.title }}">
    <ion-nav-bar class="bar-orange orange-light main-bar" align-title="left">
        <ion-nav-back-button>
        </ion-nav-back-button>
    </ion-nav-bar>

    <ion-content class="orange-bg">
        <div class="card orange-card">
            <form class="orange-form" name="noteAdd">
                <div class="item item-error" ng-if="notes_add.error">
                    <p ng-repeat="error in notes_add.errors"></p>
                </div>
                <div class="item item-body">
                    <label class="item-input">
                        <textarea name="text" data-ng-model="notes_add.note.text" rows="5"
                                  placeholder="Note Text"></textarea>
                    </label>

                    <div class="medication-container">
                        <ion-header-bar class="bar-small bar-orange bar-static">
                            <div class="buttons">
                                <button class="button button-icon icon ion-ios-minus-outline"
                                        ng-click="notes_add.medicationWidgetData.showDelete = !notes_add.medicationWidgetData.showDelete;">
                                </button>
                            </div>
                            <h1 class="title">Medications</h1>
                            <button class="button button-icon button-clear button-small ion-plus button-dose"
                                    ng-click="notes_add.modal.show()"></button>
                        </ion-header-bar>

                        <ion-list show-delete="notes_add.medicationWidgetData.showDelete">
                            <ion-item ng-repeat="medAdd in notes_add.medicationsAdd | filter: { checked: true }">
                                {{ medAdd.name }}
                                <ion-delete-button class="ion-minus-circled"
                                                   ng-click="notes_add.onMedicationRemove(medAdd)">
                                </ion-delete-button>
                            </ion-item>
                        </ion-list>
                    </div>
                </div>

                <div class="item item-button">
                    <button class="button button-full button-orange" ng-click="notes_add.save()">Save Note</button>
                </div>
            </form>
        </div>
    </ion-content>
</ion-view>

<script id="my-modal.html" type="text/ng-template"></script>
