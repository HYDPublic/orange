<ion-view hide-nav-bar="false" view-title="{{doctor.title}}">
    <ion-nav-bar class="bar-orange" align-title="center">
        <ion-nav-buttons side="left" >
            <button ui-sref="{{ doctor.backState }}" class="button back-button button-clear header-item">
                <i class="icon ion-arrow-left-c"></i>
            </button>
        </ion-nav-buttons>
    </ion-nav-bar>
    <ion-content class="orange-bg" overflow-scroll="true">

        <div class="card orange-card">
            <div class="text-center">
                <ion-spinner class="orange-loading-spinner" icon="dots"
                             ng-if="!doctor.doctorsPromise.$$state.status"></ion-spinner>
            </div>
            <form name="doctorForm" class="orange-form">
                <div class="item item-error"
                     ng-if="doctorForm.$submitted && !doctorForm.$valid || doctor.errors.length">
                    <div ng-messages="doctorForm.name.$error">
                        <p ng-message="required">Doctor name is required.</p>
                    </div>
                    <p ng-repeat="error in doctor.errors" ng-bind="error"></p>
                </div>
                <div class="item item-body">
                    <label class="item-input">
                        <input name="name" type="text" data-ng-model="doctor.doctor.name" placeholder="Full Name" required/>
                    </label>
                    <label class="item-input">
                        <input name="title" type="text" data-ng-model="doctor.doctor.title" placeholder="Title (Optional)"/>
                    </label>
                    <label class="item-input">
                        <input name="phone" type="tel" data-ng-model="doctor.doctor.phone" placeholder="Phone (Optional)"
                               field-max-length="10"/>
                    </label>
                    <label class="item-input">
                        <input name="address" type="text" data-ng-model="doctor.doctor.address" placeholder="Address (Optional)"/>
                    </label>
                    <label class="item-input">
                        <textarea name="notes" data-ng-model="doctor.doctor.notes" rows="5" placeholder="Notes (Optional)"></textarea>
                    </label>
                </div>
            </form>
            <div class="item item-button">
                <button class="button button-full button-orange" ng-click="doctor.save(doctorForm)">Save Doctor</button>
            </div>
        </div>

    </ion-content>
</ion-view>
